const scriptName="ì†¨ê²Œì„.js";
//------ìˆ«ìë§ì¶”ê¸° ê²Œì„ ë³€ìˆ˜-------
ngame=0
nplayer=0
//------ìŠ¬ë¡¯ë¨¸ì‹ ë³€ìˆ˜---------------
rgame=0
rplaying=0
rplayer=0
pm=0
//----------ë¸”ë™ì†¨ë³€ìˆ˜---------
bgame=0
bplaying=0
bplayer1=0
bplayer2=0
bsmc=0
//---------ê¸°íƒ€ë³€ìˆ˜----------
var blank="\u200b".repeat(501)
//-----------------------------
function response(room, msg, sender, isGroupChat, replier, ImageDB, packageName, threadId){
if(room=="ì†¨ìŠ¤ë² ê°€ìŠ¤"){
if(msg=="/ì†¨ë¡¯ë¨¸ì‹ "){
replier.reply("https://open.kakao.com/o/gZiCjO8b")
}
if(msg=="/ì†¨ ìˆ«ìë§ì¶”ê¸°"){
replier.reply("https://open.kakao.com/o/gjxgjO8b")
}
}
//-----------

//------------------------íšŒì›êµ¬ë³„ë³€ìˆ˜-------------------------------------------------------
if(msg){
profile=java.lang.String(ImageDB.getProfileImage()).hashCode();//í”„í•„í•´ì‰¬ì½”ë“œ
name=(sender)
ì§€ê°‘ëª©ë¡=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/ì§€ê°‘ëª©ë¡.txt")//ì§€ê°‘ë§Œë“  ì‚¬ëŒ íšŒì›ì½”ë“œ
íšŒì›ì½”ë“œ=(profile+"~"+name)//í”„í•„~ì´ë¦„
coin=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt")//ì½”ì¸í…ìŠ¤íŠ¸
coinN=Number(coin)//ì½”ì¸ìˆ«ì
var í”„ì¶”=ImageDB.getProfileImage()//í”„í•„
}
//-------------

//----------------------------------------ì†¨ê²Œì„ ë„ì›€ë§----------------------------------
if(msg=="/ì†¨ê²Œì„"){
replier.reply("ã†ì†¨ê²Œì„ ë¦¬ìŠ¤íŠ¸ã†"+blank+"\n\nã†/ì†¨ ìˆ«ìë§ì¶”ê¸° \n(1~15ê¹Œì§€ì˜ ìˆ˜ ì¤‘ í•˜ë‚˜ë¥¼ ì°ì–´ì„œ ë§ì¶”ëŠ” ê²Œì„ì…ë‹ˆë‹¤. ì„±ê³µì‹œ : +200 ì‹¤íŒ¨ì‹œ : -15\n\nã†/ì†¨ë¡¯ë¨¸ì‹  \n(ì¹´ì§€ë…¸ ìŠ¬ë¡¯ë¨¸ì‹ ê³¼ ë¹„ìŠ·í•œ ë°©ì‹ì˜ ìŠ¬ë¡¯ë¨¸ì‹ ì…ë‹ˆë‹¤. ì›í•˜ëŠ” ë§Œí¼ ë°°íŒ…ì´ ê°€ëŠ¥í•˜ê³  ìŠ¬ë¡¯ë¨¸ì‹  ê²°ê³¼ì— ë”°ë¼ ì½”ì¸ì„ ì–»ê±°ë‚˜ ìƒìŠµë‹ˆë‹¤. [/ì†¨ë¡¯ë¨¸ì‹  ë„ì›€ë§] ì°¸ê³ )")
}
//-----------------------------------------ì†¨ë£°ë › ë„ì›€ë§---------------------------------------------
if(msg=="/ì†¨ë¡¯ë¨¸ì‹  ë„ì›€ë§"){
replier.reply("ã†ì†¨ë£°ë › ë„ì›€ë§ã†"+blank+"\n\nâ™ =1 â™¥=2 â™£=3 â™¦ï¸=4 ğŸ’=5 âŒ=6 ì†¨=7\nã†ìˆ«ì ìˆœì„œëŒ€ë¡œ = ë°°íŒ…ê¸ˆì•¡ 5ë°°\nã†ìˆ«ì ì—­ìˆœ = ë°°íŒ…ê¸ˆì•¡ 10ë°° \nã†ìˆ«ìê°€ ë‹¤ ì¼ì¹˜ = ë°°íŒ…ê¸ˆì•¡ 50ë°°(ì†¨ì­íŒŸì€ 100ë°° âŒì­íŒŸ?ì€ ë­˜ê¹Œìš”ã…‹)")
}
//------------------------------------------ì†¨ë£°ë ›---------------------------------------------
if(room=="ì†¨ë¡¯ë¨¸ì‹ "){
if(msg=="/íˆìŠ¤í† ë¦¬"){
rh=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/ì†¨ë¡¯ë¨¸ì‹  ê¸°ë¡.txt")
SMP=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  í”Œë˜ì´ íšŸìˆ˜.txt").length
SMJ=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  ì­íŒŸ íšŸìˆ˜.txt").length
SMMJ=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  ì¤€ì­íŒŸ íšŸìˆ˜.txt").length
SMSJ=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  ì†¨ì­íŒŸ íšŸìˆ˜.txt").length
SMRJ=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  ë¬´ì‘ìœ„ ì­íŒŸ íšŸìˆ˜.txt").length
SMS=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  ìŠ¤íŠ¸ë ˆì´íŠ¸ íšŸìˆ˜.txt").length
SMOS=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  ì—­ìŠ¤íŠ¸ë ˆì´íŠ¸ íšŸìˆ˜.txt").length
SMSS=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  ì¸7 íšŸìˆ˜.txt").length

replier.reply("ã†ì†¨ë¡¯ë¨¸ì‹  íˆìŠ¤í† ë¦¬ã†"+blank+"\n\nã†í”Œë˜ì´ íšŸìˆ˜: "+SMP+"\nã†ì­íŒŸ íšŸìˆ˜: "+SMJ+"\nã†ì¤€ì­íŒŸ íšŸìˆ˜: "+SMMJ+"\nã†ì­íŒŸ íšŸìˆ˜: "+SMJ+"\nã†ì†¨ì­íŒŸ íšŸìˆ˜: "+SMSJ+"\nã†ë¬´ì‘ìœ„ ì­íŒŸ íšŸìˆ˜: "+SMRJ+"\nã†ìŠ¤íŠ¸ë ˆì´íŠ¸ íšŸìˆ˜: "+SMS+"\nã†ì—­ìŠ¤íŠ¸ë ˆì´íŠ¸ íšŸìˆ˜: "+SMOS+"\nã†ì¸7 íšŸìˆ˜: "+SMSS+"\n\n"+rh)
}
if(msg=="/ì†¨ë¡¯ë¨¸ì‹ "){
if(rgame==0){
if(ì§€ê°‘ëª©ë¡.indexOf(íšŒì›ì½”ë“œ)!=-1){
if(coinN>=10){
replier.reply("[ì†¨ë´‡] â˜…ì†¨ë¡¯ë¨¸ì‹ â˜… ë°°íŒ…í•  ì½”ì¸ì„ [/ë² íŒ…] ë’¤ì— ì…ë ¥í•˜ì£¼ì„¸ìš”. ex) /ë² íŒ… 30\nã†ì·¨ì†Œí•˜ì‹œë ¤ë©´ [/ì†¨ë¡¯ë¨¸ì‹  ì·¨ì†Œ]ë¼ê³  í•´ì£¼ì„¸ìš”.")
rgame=1
rplayer=(sender)
}//ì½”ì¸
else{
replier.reply("[ì†¨ë´‡] "+name+"ë‹˜ì€ ëˆì´ ë¶€ì¡±í•´ìš”! 10ì½”ì¸ ì´ìƒìˆì–´ì•¼ëë‹ˆë‹¤.ã…‹ã…‹")
}
}//íšŒì›ì—¬ë¶€
else{
replier.reply("[ì†¨ë´‡] "+name+"ë‹˜ì€ ì•„ì§ ì§€ê°‘ì´ ì—†ìŠµë‹ˆë‹¤.\n [/ì†¨ì§€ê°‘ ìƒì„±]ì„ í†µí•´ ì§€ê°‘ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”!")
}
}//ê²Œì„ì§„í–‰ì—¬ë¶€
else{
replier.reply("[ì†¨ë´‡] í˜„ì œ ì†¨ë¡¯ë¨¸ì‹ ì€ ["+rplayer+"]ë‹˜ì´ í”Œë˜ì´ ì¤‘ ì…ë‹ˆë‹¤.")
}
}//ë£°ë ›

if(msg.indexOf("/ë² íŒ…")!=-1&&sender==rplayer){
coin=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt")//ì½”ì¸í…ìŠ¤íŠ¸
coinN=Number(coin)//ì½”ì¸ìˆ«ì
bm=Number(msg.substring(4).replace(/[^0-9]/g,"").trim())
if(bm<=coinN){
if(bm>=10){
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  í”Œë˜ì´ íšŸìˆ˜.txt","1")
replier.reply("[ì†¨ë´‡] ğŸ°  ["+name+"]ë‹˜ì´ ["+bm+"]ì½”ì¸ì„ ë² íŒ…í–ˆì–´ìš”.")
replier.reply("[ì†¨ë´‡] ì ì†¨ë¡¯ë¨¸ì‹ ì„ ëŒë¦½ë‹ˆë‹¤!! [/ë©ˆì¶”ê¸°]ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!")                                     
replier.reply("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”ƒâ”â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œ â”\nâ”ƒâ”ƒ â–’ â”ƒ  â–’  â”ƒ â–’ â”ƒâ”ƒ â”ƒ\nâ”ƒâ”—â”€â”€â”€â”€â”€â”€â”€â”€â”›â”” â”˜\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
rplaying=1
}
else{
replier.reply("[ì†¨ë´‡] ìµœì†Œ 10ì½”ì¸ ë¶€í„° ë² íŒ…ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤!")
}
}
else{
replier.reply("[ì†¨ë´‡] ì•—! ëˆì´ ë¶€ì¡±í•´ìš”.\n ì”ê³  : ["+coinN+"] ì½”ì¸")
}
}
if(msg=="/ì†¨ë¡¯ë¨¸ì‹  ì·¨ì†Œ"&&sender==rplayer){
if(rplaying==0){
replier.reply("[ì†¨ë´‡] "+name+"ë‹˜ì˜ ì†¨ë¡¯ë¨¸ì‹ ê²Œì„ì´ ì·¨ì†Œëì–´ìš”!")
rgame=0
rplayer=0
}//ë£°ë ›ì‹œì‘ì—¬ë¶€
else{
replier.reply("[ì†¨ë´‡] ì´ë¯¸ ì†¨ë¡¯ë¨¸ì‹ ì„ ëŒë ¸ì–´ìš”! [/ë©ˆì¶”ê¸°]ë¥¼ ì…ë ¥í•´ ê²°ê³¼ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.")
}
}//ë£°ë ›ì·¨ì†Œ

if(msg=="/ë©ˆì¶”ê¸°"&&sender==rplayer){
if(rplaying==1){
var lineL= Math.floor(Math.random() * 7)+1;
var lineM = Math.floor(Math.random() * 7)+1;
var lineR = Math.floor(Math.random() * 7)+1;
if(lineL==1){
lineLI=("â™ ")
}
if(lineL==2){
lineLI=("â™¥")
}
if(lineL==3){
lineLI=("â™£")
}
if(lineL==4){
lineLI=("â™¦ï¸")
}
if(lineL==5){
lineLI=("ğŸ’")
}
if(lineL==6){
lineLI=("ğŸ²")
}
if(lineL==7){
lineLI=("ì†¨")
}

if(lineM==1){
lineMI=("â™ ")
}
if(lineM==2){
lineMI=("â™¥")
}
if(lineM==3){
lineMI=("â™£")
}
if(lineM==4){
lineMI=("â™¦ï¸")
}
if(lineM==5){
lineMI=("ğŸ’")
}
if(lineM==6){
lineMI=("ğŸ²")
}
if(lineM==7){
lineMI=("ì†¨")
}

if(lineR==1){
lineRI=("â™ ")
}
if(lineR==2){
lineRI=("â™¥")
}
if(lineR==3){
lineRI=("â™£")
}
if(lineR==4){
lineRI=("â™¦ï¸")
}
if(lineR==5){
lineRI=("ğŸ’")
}
if(lineR==6){
lineRI=("ğŸ²")
}
if(lineR==7){
lineRI=("ì†¨")
}

rgame=0
rplaying=0
rplayer=0
replier.reply("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”ƒâ”â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œ â”\nâ”ƒâ”ƒ "+lineLI+" â”ƒ  "+lineMI+" â”ƒ  "+lineRI+" â”ƒâ”ƒ â”ƒ\nâ”ƒâ”—â”€â”€â”€â”€â”€â”€â”€â”€â”›â”” â”˜\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
if(lineL+1==lineM&&lineM+1==lineR){
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  ìŠ¤íŠ¸ë ˆì´íŠ¸ íšŸìˆ˜.txt","1")
replier.reply("[ì†¨ë´‡] ìŠ¤íŠ¸ë ˆì´íŠ¸! ë² íŒ… ì½”ì¸ x 5ë°°")
Api.replyRoom("ê³µì§€ë°©","[ì†¨ë´‡] "+sender+"ë‹˜ì´ ìŠ¤íŠ¸ë ˆì´íŠ¸ë¥¼ í„°íŠ¸ë ¸ìŠµë‹ˆë‹¤!")
pm=1
coinR=coinN+bm*5
FileStream.write("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt",coinR)
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/ì†¨ë¡¯ë¨¸ì‹  ê¸°ë¡.txt","ã†["+íšŒì›ì½”ë“œ+"]ë‹˜ì´ ["+lineL+"|"+lineM+"|"+lineR+"]ìŠ¤íŠ¸ë ˆì´ë¥¼ í„°íŠ¸ë ¸ìŠµë‹ˆë‹¤.\n"+coinN+" --> "+coinR+"\n\n")
}
if(lineL+lineM+lineR==7){
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  ì¸7 íšŸìˆ˜.txt","1")
replier.reply("[ì†¨ë´‡] ì¸7! ë² íŒ… ì½”ì¸ x 7ë°°")
Api.replyRoom("ê³µì§€ë°©","[ì†¨ë´‡] "+sender+"ë‹˜ì´ ì¸7ë¥¼ í„°íŠ¸ë ¸ìŠµë‹ˆë‹¤!")
pm=1
coinR=coinN+bm*7
FileStream.write("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt",coinR)
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/ì†¨ë¡¯ë¨¸ì‹  ê¸°ë¡.txt","ã†["+íšŒì›ì½”ë“œ+"]ë‹˜ì´ ["+lineL+"|"+lineM+"|"+lineR+"] ì¸7ì„ í„°íŠ¸ë ¸ìŠµë‹ˆë‹¤.\n"+coinN+" --> "+coinR+"\n\n")
}
if(lineL==lineR&&lineM!=lineR){
if(lineL+lineM+lineR!=7){
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  ì¤€ì­íŒŸ íšŸìˆ˜.txt","1")
replier.reply("[ì†¨ë´‡] ì­íŒŸ?ì¸ì¤„ ì•Œì•˜ëŠ”ë°.. ë² íŒ… ì½”ì¸ x 2ë°°")
Api.replyRoom("ê³µì§€ë°©","[ì†¨ë´‡] "+sender+"ë‹˜ì´ ì¤€ì­íŒŸë¥¼ í„°íŠ¸ë ¸ìŠµë‹ˆë‹¤!")
pm=1
coinR=coinN+bm*2
FileStream.write("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt",coinR)
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/ì†¨ë¡¯ë¨¸ì‹  ê¸°ë¡.txt","ã†["+íšŒì›ì½”ë“œ+"]ë‹˜ì´ ["+lineL+"|"+lineM+"|"+lineR+"] ì¤€ì­íŒŸë¥¼ í„°íŠ¸ë ¸ìŠµë‹ˆë‹¤.\n"+coinN+" --> "+coinR+"\n\n")
}
}
if(lineL==lineM+1&&lineM==lineR+1){
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  ì—­ìŠ¤íŠ¸ë ˆì´íŠ¸ íšŸìˆ˜.txt","1")
replier.reply("[ì†¨ë´‡] ì—­ìŠ¤íŠ¸ë ˆì´íŠ¸! ë² íŒ… ì½”ì¸ x 10ë°°")
Api.replyRoom("ê³µì§€ë°©","[ì†¨ë´‡] "+sender+"ë‹˜ì´ ì—­ìŠ¤íŠ¸ë ˆì´íŠ¸ë¥¼ í„°íŠ¸ë ¸ìŠµë‹ˆë‹¤!")
pm=1
coinR=coinN+bm*10
FileStream.write("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt",coinR)
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/ì†¨ë¡¯ë¨¸ì‹  ê¸°ë¡.txt","ã†["+íšŒì›ì½”ë“œ+"]ë‹˜ì´ ["+lineL+"|"+lineM+"|"+lineR+"]ì—­ìŠ¤íŠ¸ë ˆì´ë¥¼ í„°íŠ¸ë ¸ìŠµë‹ˆë‹¤.\n"+coinN+" --> "+coinR+"\n\n")
}
if(lineL==lineM&&lineM==lineR){
if(lineL==7){
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  ì†¨ì­íŒŸ íšŸìˆ˜.txt","1")
replier.reply("[ì†¨ë´‡] ì†¨ì†¨ ì­íŒŸ! ë² íŒ… ì½”ì¸ x 100ë°°â˜†")
Api.replyRoom("ê³µì§€ë°©","ğŸ”¥[ì†¨ë´‡] "+sender+"ë‹˜ì´ ì†¨ì†¨ì­íŒŸì„ í„°íŠ¸ë ¸ìŠµë‹ˆë‹¤!")
coinR=coinN+bm*100
FileStream.write("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt",coinR)
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/ì†¨ë¡¯ë¨¸ì‹  ê¸°ë¡.txt","ã†ğŸ”¥["+íšŒì›ì½”ë“œ+"]ë‹˜ì´ ["+lineL+"|"+lineM+"|"+lineR+"]ì†¨ì†¨ ì­íŒŸì„ í„°íŠ¸ë ¸ìŠµë‹ˆë‹¤.\n"+coinN+" --> "+coinR+"\n\n")
}
if(lineL==6){
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  ë¬´ì‘ìœ„ ì­íŒŸ íšŸìˆ˜.txt","1")
var RD= Math.floor(Math.random() * 200)+1;
var RDR= Math.floor(Math.random() * RD)+1;
replier.reply("[ì†¨ë´‡]ğŸ²ğŸ²ğŸ² ì­íŒŸ? "+RDR+"ë°°!")
Api.replyRoom("ê³µì§€ë°©","[ì†¨ë´‡] "+sender+"ë‹˜ì´ ë¬´ì‘ìœ„ ì­íŒŸì„ í„°íŠ¸ë ¸ìŠµë‹ˆë‹¤!"+RDR+"ë°°!")
coinR=coinN+coin*RDR
FileStream.write("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt",coinR)
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/ì†¨ë¡¯ë¨¸ì‹  ê¸°ë¡.txt","ã†ğŸ²["+íšŒì›ì½”ë“œ+"]ë‹˜ì´ ["+lineL+"|"+lineM+"|"+lineR+"]ğŸ²ğŸ²ğŸ²ì­íŒŸì„ í„°íŠ¸ë ¸ìŠµë‹ˆë‹¤.\n"+coinN+" --> "+coinR+"\n\n")
}
if(lineL<=5){
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì†¨ë¡¯ë¨¸ì‹  ì­íŒŸ íšŸìˆ˜.txt","1")
replier.reply("[ì†¨ë´‡] ì­íŒŸ! ë² íŒ…ì½”ì¸ 50ë°°!")
Api.replyRoom("ê³µì§€ë°©","[ì†¨ë´‡] "+sender+"ë‹˜ì´ ì­íŒŸë¥¼ í„°íŠ¸ë ¸ìŠµë‹ˆë‹¤!")
coinR=coinN+bm*50
FileStream.write("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt",coinR)
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/ì†¨ë¡¯ë¨¸ì‹  ê¸°ë¡.txt","ã†ğŸ”¥["+íšŒì›ì½”ë“œ+"]ë‹˜ì´ ["+lineL+"|"+lineM+"|"+lineR+"]ì­íŒŸì„ í„°íŠ¸ë ¸ìŠµë‹ˆë‹¤.\n"+coinN+" --> "+coinR+"\n\n")
}
pm=1

}
if(pm!=1){
replier.reply("[ì†¨ë´‡] ì‹¤íŒ¨! "+bm+"ì½”ì¸ì´ ê³µì¤‘ë¶„í•´ë©ë‹ˆë‹¤.")
coinR=coinN-bm
FileStream.write("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt",coinR)
}
replier.reply("[ì†¨ë´‡] "+lineL+"  |  "+lineM+"  |  "+lineR)
pm=0
coin=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt")//ì½”ì¸í…ìŠ¤íŠ¸
coinN=Number(coin)//ì½”ì¸ìˆ«ì
}
else{
replier.reply("[ì†¨ë´‡] ì•„ì§ ë² íŒ…í•˜ì§€ ì•Šì•˜ì–´ìš”! [/ë² íŒ…] ë’¤ì— ì…ë ¥í•˜ì£¼ì„¸ìš”. ex) /ë² íŒ… 30")
}
}

}
//----------------------------------------ìˆ«ìë§ì¶”ê¸°----------------------------------------
if(room=="ìˆ«ìë§ì¶”ê¸°"){
//-------
if(msg.trim()=="/ìˆ«ìê²Œì„"){
coin=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt")//ì½”ì¸í…ìŠ¤íŠ¸
coinN=Number(coin)//ì½”ì¸ìˆ«ì
if(ì§€ê°‘ëª©ë¡.indexOf(íšŒì›ì½”ë“œ)!=-1){
if(coinN>=10){
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ìˆ«ìê²Œì„ í”Œë˜ì´ íšŸìˆ˜.txt","1")
    var a = Math.floor(Math.random()*5+1)
    var b = Math.floor(Math.random()*5+1)
    var c = Math.floor(Math.random()*5+1)
    var o = ['â–¡â– â–¡','â– â– â–¡','â–¡â– â–¡','â–¡â– â–¡','â–¡â– â–¡']
    var t = ['â– â– â– ','â–¡â–¡â– ','â– â– â– ','â– â–¡â–¡','â– â– â– ']
    var th = ['â– â– â– ','â–¡â–¡â– ','â– â– â– ','â–¡â–¡â– ','â– â– â– ']
    var f = ['â– â–¡â– ','â– â–¡â– ','â– â– â– ','â–¡â–¡â– ','â–¡â–¡â– ']
    var fi = ['â– â– â– ','â– â–¡â–¡','â– â– â– ','â–¡â–¡â– ','â– â– â– ']
    var s = ['â– â– â– ','â– â–¡â–¡','â– â– â– ','â– â–¡â– ','â– â– â– ']
    var se = ['â– â– â– ','â–¡â–¡â– ','â–¡â–¡â– ','â–¡â–¡â– ','â–¡â–¡â– ']
    var ca = {1:o,2:t,3:th,4:f,5:fi}
    var first = ca[a]; var second = ca[b]; var third = ca[c]
    var list = ""
    for(var i = 0;i<5;i++){
        list += first[i]+'  '+second[i]+'  '+third[i]+"\n"
    }
list = list.replace(/â–¡/g,"â–‘").replace(/â– /g,"â–ˆ")
    if(a==b&&b==c){
        replier.reply(list+"\në‹¹ì²¨ì´ë„¤ìš”! ì¶•í•˜ë“œë¦½ë‹ˆë‹¤. ["+sender+"]")
     coinR=coinN+500
Api.replyRoom("ê³µì§€ë°©","[ì†¨ë´‡] "+sender+"ë‹˜ì´ ìˆ«ìê²Œì„ì—ì„œ ëˆì„ íšë“í–ˆìŠµë‹ˆë‹¤!")
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ìˆ«ìê²Œì„ ì„±ê³µ íšŸìˆ˜.txt","1")
FileStream.write("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt",coinR)
coin=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt")
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/ìˆ«ìë§ì¶”ê¸° ê¸°ë¡.txt","ã†["+íšŒì›ì½”ë“œ+"]ë‹˜ì´ ìˆ«ìê²Œì„ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤.\n"+coinN+" --> "+coinR+"\n\n")

    } else {
        replier.reply(list+"\nìŒ... ê½ì´ë„¤ìš”.["+sender+"]")
coinR=coinN-15
FileStream.write("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt",coinR)

    }
}
else{
replier.reply("[ì†¨ë´‡] "+name+"ë‹˜ì˜ ì½”ì¸ì´ ë¶€ì¡±í•´ìš”!ã…‹ã…‹\n ì”ê³  : ["+coinN+"] ì½”ì¸")
}
}else{
replier.reply("[ì†¨ë´‡] "+name+"ë‹˜ì€ ì•„ì§ ì§€ê°‘ì´ ì—†ìŠµë‹ˆë‹¤.\n [/ì†¨ì§€ê°‘ ìƒì„±]ì„ í†µí•´ ì§€ê°‘ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”!")
}
}

//-------
if(msg=="/íˆìŠ¤í† ë¦¬"){
nh=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/ìˆ«ìë§ì¶”ê¸° ê¸°ë¡.txt")
replier.reply("ã†ì†¨ë¡¯ë¨¸ì‹  íˆìŠ¤í† ë¦¬ã†"+blank+"\n\n"+nh)
}
if(msg=="/ì†¨ ìˆ«ìë§ì¶”ê¸°"){
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ìˆ«ìë§ì¶”ê¸° í”Œë˜ì´ íšŸìˆ˜.txt","1")
coin=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt")//ì½”ì¸í…ìŠ¤íŠ¸
coinN=Number(coin)//ì½”ì¸ìˆ«ì
if(ngame==0){
if(ì§€ê°‘ëª©ë¡.indexOf(íšŒì›ì½”ë“œ)!=-1){
if(coinN>=15){
coinR=coinN-15
FileStream.write("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt",coinR)
nplayer=sender
ngame=1
replier.reply("[ì†¨ë´‡] (-15 ì†¨ì†¨ì½”ì¸) 1~10ê¹Œì§€ ì•„ë¬´ìˆ«ìë‚˜ ê³¨ë¼ì¤˜~ ex)/ì •ë‹µ 1\n í”Œë˜ì´ì–´ : "+nplayer)
}
else{
replier.reply("[ì†¨ë´‡] "+name+"ë‹˜ì˜ ì½”ì¸ì´ ë¶€ì¡±í•´ìš”!ã…‹ã…‹\n ì”ê³  : ["+coinN+"] ì½”ì¸")
}
}
else{
replier.reply("[ì†¨ë´‡] "+name+"ë‹˜ì€ ì•„ì§ ì§€ê°‘ì´ ì—†ìŠµë‹ˆë‹¤.\n [/ì†¨ì§€ê°‘ ìƒì„±]ì„ í†µí•´ ì§€ê°‘ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”!")
}
}
else{
replier.reply("[ì†¨ë´‡] í˜„ì œ ìˆ«ìë§ì¶”ê¸°ëŠ” ["+nplayer+"]ë‹˜ì´ í”Œë˜ì´ ì¤‘ ì…ë‹ˆë‹¤.")
}
}


if(msg.indexOf("/ì •ë‹µ")!=-1&&sender==nplayer&&ngame==1){
n=msg.substring(4)
var ng = Math.floor(Math.random() *10);
var ng2=ng+1
ngame=0
nplayer=0
if(n==ng2){
replier.reply("[ì†¨ë´‡] ì •ë‹µ! ã…Šã…‹ã…Šã…‹")
Api.replyRoom("ê³µì§€ë°©","[ì†¨ë´‡] "+sender+"ë‹˜ì´ ìˆ«ìë§ì¶”ê¸°ë¥¼ ì„±ê³µí–ˆìŠµë‹ˆë‹¤!")
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ìˆ«ìë§ì¶”ê¸° ì„±ê³µ íšŸìˆ˜.txt","1")
coinR=coinN+200
FileStream.write("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt",coinR)
coin=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt")
FileStream.append("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/ìˆ«ìë§ì¶”ê¸° ê¸°ë¡.txt","ã†["+íšŒì›ì½”ë“œ+"]ë‹˜ì´ ìˆ«ìë§ì¶”ê¸°ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤.\n"+coinN+" --> "+coinR+"\n\n")
}
else {
coin=FileStream.read("sdcard/katalkbot/ì†¨ì†¨ì½”ì¸/"+profile+"~"+name+"ì§€ê°‘.txt")
var fm = Math.floor(Math.random() * 10);
if(fm==0){
replier.reply("[ì†¨ë´‡] ë²„ê·¸ë•œì— íŒ¨ì´í¬ê°€ ì—†ì–´ì¡Œë‹¤!â˜†â˜† ë•¡! ì •ë‹µì€ : "+ng2)
}
if(fm>=2){
replier.reply("[ì†¨ë´‡] ë•¡! ì •ë‹µì€ : "+ng2)
}
if(fm==1){
replier.reply("[ì†¨ë´‡] í‹€ë¦¼. ì•”íŠ¼ í‹€ë¦¼. "+ng2)
}

}


}
}
//-------------------ë¸”ë™ì†¨----------------

//--------------ëˆë²Œê¸°-------------

//----------------------------ì§€ê°‘ë“±ë¡----------------------------------------------


}
